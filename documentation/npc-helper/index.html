<!doctype html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>NPC Helper — Developer Documentation</title>
  <meta name="description" content="Documentation and code reference for NPC Helper and Aria NPC Mod" />
  <meta name="author" content="TamKungZ_" />
  <link rel="icon" type="image/x-icon" href="https://tamkungz.github.io/image/icon_hp.png" />
  <link rel="canonical" href="https://tamkungz.github.io/documentation/npc-helper/" />

  <!-- Open Graph -->
  <meta property="og:title" content="NPC Helper — Code Reference & Explanation" />
  <meta property="og:description" content="Comprehensive code reference and explanations for NpcHelper: NpcDefinition.cs, ModEntry.cs, ModScanner.cs (SMAPI mod)." />
  <meta property="og:image" content="https://staticdelivery.nexusmods.com/mods/1303/images/41305/41305-1768532837-1664767729.png" />
  <meta property="og:url" content="https://tamkungz.github.io/documentation/npc-helper/" />
  <meta property="og:type" content="website" />

  <!-- Fonts & Icons -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  
  <!-- Tailwind CSS (CDN) -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- Highlight.js (Syntax Highlighting) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/tokyo-night-dark.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/csharp.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/ini.min.js"></script>

  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ['Inter', 'sans-serif'],
            mono: ['JetBrains Mono', 'monospace'],
          },
          colors: {
            brand: {
              50: '#f0f9ff',
              100: '#e0f2fe',
              500: '#0ea5e9',
              600: '#0284c7',
              900: '#0c4a6e',
            }
          }
        }
      }
    }
  </script>

  <style>
    /* Custom Scrollbar */
    ::-webkit-scrollbar { width: 8px; height: 8px; }
    ::-webkit-scrollbar-track { background: #1e293b; }
    ::-webkit-scrollbar-thumb { background: #475569; border-radius: 4px; }
    ::-webkit-scrollbar-thumb:hover { background: #64748b; }
    
    .code-block-wrapper { position: relative; }
    .copy-btn {
      position: absolute;
      top: 0.5rem;
      right: 0.5rem;
      padding: 0.25rem 0.75rem;
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 0.375rem;
      color: #cbd5e1;
      font-size: 0.75rem;
      transition: all 0.2s;
      opacity: 0;
    }
    .code-block-wrapper:hover .copy-btn { opacity: 1; }
    .copy-btn:hover { background: rgba(255, 255, 255, 0.2); color: white; }
    
    /* Table Styles */
    .doc-table th { text-align: left; padding: 0.75rem; border-bottom: 1px solid #334155; color: #94a3b8; font-size: 0.875rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; }
    .doc-table td { padding: 0.75rem; border-bottom: 1px solid #1e293b; color: #cbd5e1; font-size: 0.9rem; vertical-align: top; }
    .doc-table tr:last-child td { border-bottom: none; }
    .doc-table code { background: #1e293b; padding: 0.2rem 0.4rem; border-radius: 0.25rem; color: #38bdf8; font-family: 'JetBrains Mono', monospace; font-size: 0.85em; }
  </style>
</head>

<body class="bg-slate-900 text-slate-300 font-sans antialiased selection:bg-brand-500 selection:text-white">

  <!-- Layout Container -->
  <div class="flex h-screen overflow-hidden">

    <!-- Sidebar Navigation -->
    <aside class="w-72 bg-slate-950 border-r border-slate-800 flex-shrink-0 flex flex-col h-full hidden md:flex">
      <div class="p-6 border-b border-slate-800">
        <h1 class="text-xl font-bold text-white tracking-tight flex items-center gap-2">
          <span class="w-3 h-3 rounded-full bg-brand-500 animate-pulse"></span>
          NPC Helper Docs
        </h1>
        <p class="text-xs text-slate-500 mt-1">v1.0.0 (Updated)</p>
      </div>

      <nav class="flex-1 overflow-y-auto p-4 space-y-6">
        
        <!-- Section: Overview -->
        <div>
          <h3 class="text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2 px-2">Overview</h3>
          <ul class="space-y-1">
            <li><a href="#intro" class="block px-2 py-1.5 rounded hover:bg-slate-800 hover:text-white transition text-sm">Introduction</a></li>
            <li><a href="#structure" class="block px-2 py-1.5 rounded hover:bg-slate-800 hover:text-white transition text-sm">Project Structure</a></li>
          </ul>
        </div>

        <!-- Section: Configuration -->
        <div>
          <h3 class="text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2 px-2">Configuration (TOML)</h3>
          <ul class="space-y-1">
            <li><a href="#manifest" class="block px-2 py-1.5 rounded hover:bg-slate-800 hover:text-white transition text-sm">manifest.json</a></li>
            <li><a href="#mod-toml" class="block px-2 py-1.5 rounded hover:bg-slate-800 hover:text-white transition text-sm">mod.toml</a></li>
            <li><a href="#npc-toml" class="block px-2 py-1.5 rounded hover:bg-slate-800 hover:text-white transition text-sm text-brand-400">NPC Definition (.toml)</a></li>
            <li><a href="#values-ref" class="block px-2 py-1.5 ml-3 border-l border-slate-700 hover:text-brand-300 transition text-xs text-slate-400">Allowed Values Reference</a></li>
            <li><a href="#dialogue-toml" class="block px-2 py-1.5 rounded hover:bg-slate-800 hover:text-white transition text-sm">Dialogue.toml</a></li>
            <li><a href="#schedule-toml" class="block px-2 py-1.5 rounded hover:bg-slate-800 hover:text-white transition text-sm">Schedule.toml</a></li>
          </ul>
        </div>

        <!-- Section: Source Code -->
        <div>
          <h3 class="text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2 px-2">Source Code (C#)</h3>
          <ul class="space-y-1">
            <li><a href="#modentry-cs" class="block px-2 py-1.5 rounded hover:bg-slate-800 hover:text-white transition text-sm">ModEntry.cs</a></li>
            <li><a href="#npcdefinition-cs" class="block px-2 py-1.5 rounded hover:bg-slate-800 hover:text-white transition text-sm">NpcDefinition.cs</a></li>
          </ul>
        </div>
      </nav>

      <div class="p-4 border-t border-slate-800">
        <a href="https://www.nexusmods.com/stardewvalley/mods/41303" target="_blank" class="flex items-center justify-center gap-2 w-full bg-slate-800 hover:bg-brand-600 text-white py-2 rounded text-sm transition font-medium">
          <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 50 50"><path d="M43.915,31.443C44.607,29.418,45,27.256,45,25c0-3.643-0.995-7.051-2.704-9.996c0.111-0.11,0.2-0.242,0.251-0.395 c1.193-3.617,0.084-6.058,0.037-6.16c-0.027-0.057-0.073-0.098-0.109-0.148c-0.074-0.151-0.176-0.288-0.32-0.388 c-0.033-0.022-3.273-2.258-5.584-3.752c-0.183-0.118-0.397-0.17-0.615-0.158c-1.687,0.122-3.197,0.938-4.516,2.081 C29.415,5.392,27.255,5,25,5c-3.656,0-7.075,1.003-10.027,2.723c-0.098-0.082-0.207-0.152-0.333-0.192 C11.7,6.598,9.568,7.128,8.816,7.382C8.481,7.37,8.153,7.519,7.955,7.804c-0.022,0.032-2.259,3.274-3.753,5.584 c-0.118,0.182-0.173,0.398-0.157,0.615c0.121,1.678,0.928,3.181,2.061,4.496C5.401,20.541,5,22.722,5,25 c0,3.623,0.983,7.014,2.674,9.947c-0.096,0.103-0.175,0.222-0.221,0.36c-1.193,3.616-0.085,6.058-0.037,6.16 c0.027,0.058,0.074,0.1,0.111,0.151c0.074,0.149,0.175,0.285,0.318,0.384c0.032,0.022,3.273,2.259,5.584,3.754 c0.162,0.104,0.351,0.16,0.543,0.16c0.024,0,0.048-0.001,0.072-0.003c1.658-0.12,3.146-0.91,4.449-2.022 C20.537,44.598,22.72,45,25,45c3.645,0,7.055-0.996,10.001-2.706c0.101,0.091,0.216,0.167,0.349,0.211 c1.256,0.415,2.369,0.552,3.292,0.552c1.737,0,2.801-0.484,2.867-0.516c0.046-0.021,0.079-0.061,0.121-0.089 c0.163-0.073,0.309-0.185,0.415-0.339c0.022-0.033,2.259-3.274,3.753-5.585c0.118-0.183,0.173-0.398,0.157-0.615 C45.835,34.246,45.037,32.751,43.915,31.443z M5.872,13.974c1.512-2.319,3.246-4.711,3.246-4.711s0.305,5.013,8.197,9.19 l2.504-3.925l2.104,8.561l-8.91,2.19l1.762-2.821C11.998,21.129,6.816,18.061,5.872,13.974z M22.381,35.081 c-1.349,2.767-4.456,7.926-8.549,8.839c-2.307-1.529-4.687-3.281-4.687-3.281s5.015-0.268,9.251-8.128l-3.948-2.56l8.641-2.124 l2.244,9.128L22.381,35.081z M24.466,12.989l2.876,1.767c1.307-2.786,4.337-7.991,8.416-8.965c2.33,1.495,4.735,3.211,4.735,3.211 s-5.011,0.342-9.128,8.265l4.008,2.515l-8.711,2.141L24.466,12.989z M40.813,40.556c0,0-0.323-5.012-8.229-9.16l-2.587,4.088 l-2.169-8.822l9.117-2.241l-1.835,2.961c2.781,1.318,7.974,4.368,8.933,8.451C42.538,38.157,40.813,40.556,40.813,40.556z"/></svg>
          View on NexusMods
        </a>
      </div>
    </aside>

    <!-- Main Content -->
    <main class="flex-1 overflow-y-auto relative scroll-smooth">
      <div class="max-w-4xl mx-auto px-6 py-10">
        
        <!-- Header -->
        <header id="intro" class="mb-12 border-b border-slate-800 pb-8">
          <h1 class="text-4xl font-bold text-white mb-4">NPC Helper Documentation</h1>
          <p class="text-lg text-slate-400 leading-relaxed">
            Welcome to the documentation for <strong class="text-brand-400">NPC Helper</strong>. This tool allows you to create custom Stardew Valley NPCs using simple TOML configuration files.
          </p>
          <div class="mt-6 flex gap-4">
            <span class="px-3 py-1 bg-brand-900/50 text-brand-400 border border-brand-500/30 rounded-full text-xs font-medium">SMAPI Mod</span>
            <span class="px-3 py-1 bg-slate-800 text-slate-400 border border-slate-700 rounded-full text-xs font-medium">Stardew Valley 1.6+</span>
          </div>
        </header>

        <!-- Project Structure -->
        <section id="structure" class="mb-16">
          <h2 class="text-2xl font-bold text-white mb-6 flex items-center gap-2">
            <svg class="w-6 h-6 text-brand-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z" /></svg>
            Project Structure
          </h2>
          <div class="bg-slate-950 rounded-lg border border-slate-800 p-6 font-mono text-sm text-slate-400 shadow-xl">
            <ul class="space-y-2">
              <li class="flex items-center gap-2 text-brand-400">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"/></svg>
                MyCustomNpcMod/
              </li>
              <li class="pl-6 text-yellow-400">├── manifest.json <span class="text-slate-600">// Mod metadata</span></li>
              <li class="pl-6 text-green-400">├── mod.toml <span class="text-slate-600">// Main entry point</span></li>
              <li class="pl-6">├── NPCs/</li>
              <li class="pl-12">└── MyNewNPC/</li>
              <li class="pl-[4.5rem] text-blue-400">├── NpcData.toml <span class="text-slate-600">// Main Definition</span></li>
              <li class="pl-[4.5rem] text-purple-400">├── Dialogue.toml <span class="text-slate-600">// Lines of text</span></li>
              <li class="pl-[4.5rem] text-pink-400">├── Schedule.toml <span class="text-slate-600">// Movement logic</span></li>
              <li class="pl-[4.5rem]">├── sprite.png</li>
              <li class="pl-[4.5rem]">└── portrait.png</li>
            </ul>
          </div>
        </section>

        <div class="border-t border-slate-800 my-10"></div>

        <!-- Section: TOML Files -->
        <h2 class="text-3xl font-bold text-white mb-8">Content Pack Files</h2>

        <!-- manifest.json -->
        <section id="manifest" class="mb-12">
          <div class="flex justify-between items-baseline mb-3">
            <h3 class="text-xl font-semibold text-brand-400">manifest.json</h3>
          </div>
          <div class="code-block-wrapper">
            <button class="copy-btn" data-target="code-manifest">Copy</button>
            <pre><code id="code-manifest" class="language-json rounded-lg border border-slate-800 shadow-lg p-4">{
  "Name": "My Custom NPC",
  "Author": "YourName",
  "Version": "1.0.0",
  "UniqueID": "YourName.MyCustomNPC",
  "ContentPackFor": {
    "UniqueID": "TamKungZ.NpcHelper"
  },
  "UpdateKeys": [ "" ]
}</code></pre>
          </div>
        </section>

        <!-- mod.toml -->
        <section id="mod-toml" class="mb-12">
          <div class="flex justify-between items-baseline mb-3">
            <h3 class="text-xl font-semibold text-brand-400">mod.toml</h3>
            <span class="text-xs text-slate-500 font-mono">Entry Point</span>
          </div>
          <p class="text-slate-400 mb-4">Points to your NPC definition files.</p>
          <div class="code-block-wrapper">
            <button class="copy-btn" data-target="code-mod-toml">Copy</button>
            <pre><code id="code-mod-toml" class="language-ini rounded-lg border border-slate-800 shadow-lg p-4">NPCs = ["NPCs/MyNewNPC/NpcData.toml"]</code></pre>
          </div>
        </section>

        <!-- NPC Definition TOML -->
        <section id="npc-toml" class="mb-8">
          <div class="flex justify-between items-baseline mb-3">
            <h3 class="text-xl font-semibold text-blue-400">NpcData.toml (Template)</h3>
            <span class="text-xs text-slate-500 font-mono">Main Definition</span>
          </div>
          <p class="text-slate-400 mb-4">
            This file defines who your NPC is. Review the allowed values in the comments and the table below.
          </p>
          <div class="code-block-wrapper">
            <button class="copy-btn" data-target="code-npc-toml">Copy</button>
            <pre><code id="code-npc-toml" class="language-ini rounded-lg border border-slate-800 shadow-lg p-4"># Unique ID for the game (No spaces)
Name = "Florence"

# Name seen by players
DisplayName = "Florence"

# Core Identity
Gender = "female"       # Options: male, female
Age = "teen"            # Options: child, teen, adult
Manner = "polite"       # Options: polite, rude, neutral
SocialAnxiety = "shy"   # Options: outgoing, shy, neutral
Optimism = "positive"   # Options: positive, negative, neutral

# Birthday
BirthdaySeason = "fall" # Options: spring, summer, fall, winter
BirthdayDay = 24

# Home Location (Where they go when not scheduled)
HomeRegion = "Town"     # Options: Town, Forest, Beach, Mountain, etc.

# Spawning (First load)
DefaultMap = "Town"
DefaultX = 25
DefaultY = 15
DefaultFacing = 2       # 0=Up, 1=Right, 2=Down, 3=Left

# Asset Paths (Relative to this TOML file)
CustomSpritePath = "sprite.png"
CustomPortraitPath = "portrait.png"

# Romance
Datable = true
Marriageable = false

# External Files
DialoguePath = "Dialogue.toml"
SchedulePath = "Schedule.toml"</code></pre>
          </div>
        </section>

        <!-- Allowed Values Reference Table -->
        <section id="values-ref" class="mb-12">
          <div class="bg-slate-950/50 rounded-lg border border-slate-800 overflow-hidden">
            <table class="w-full text-left border-collapse doc-table">
              <thead>
                <tr class="bg-slate-900">
                  <th class="w-1/4">Property</th>
                  <th class="w-1/4">Allowed Values</th>
                  <th class="w-1/2">Description</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><code>Gender</code></td>
                  <td><code>"male"</code>, <code>"female"</code></td>
                  <td>Determines pronouns and base sound effects.</td>
                </tr>
                <tr>
                  <td><code>Age</code></td>
                  <td><code>"adult"</code>, <code>"teen"</code>, <code>"child"</code></td>
                  <td>Affects walking speed, height, and events.</td>
                </tr>
                <tr>
                  <td><code>Manner</code></td>
                  <td><code>"neutral"</code>, <code>"polite"</code>, <code>"rude"</code></td>
                  <td>Changes the shape of speech bubbles and default reactions.</td>
                </tr>
                <tr>
                  <td><code>SocialAnxiety</code></td>
                  <td><code>"neutral"</code>, <code>"outgoing"</code>, <code>"shy"</code></td>
                  <td>Affects idle animations and social behavior.</td>
                </tr>
                <tr>
                  <td><code>Optimism</code></td>
                  <td><code>"neutral"</code>, <code>"positive"</code>, <code>"negative"</code></td>
                  <td>General personality bias.</td>
                </tr>
                <tr>
                  <td><code>DefaultFacing</code></td>
                  <td><code>0, 1, 2, 3</code></td>
                  <td>0: Up, 1: Right, 2: Down, 3: Left.</td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>

        <!-- Dialogue.toml -->
        <section id="dialogue-toml" class="mb-12">
          <div class="flex justify-between items-baseline mb-3">
            <h3 class="text-xl font-semibold text-purple-400">Dialogue.toml</h3>
          </div>
          <p class="text-slate-400 mb-4">
            Keys map to Stardew Valley dialogue keys (Days of week, Seasons, Locations).
          </p>
          <div class="code-block-wrapper">
            <button class="copy-btn" data-target="code-dialogue-toml">Copy</button>
            <pre><code id="code-dialogue-toml" class="language-ini rounded-lg border border-slate-800 shadow-lg p-4">[Dialogue]
# Basic Days
Mon = "Monday dialogue text..."
Tue = "Tuesday dialogue text..."

# Conditions and Randomization
# Use '||' to split random variations
Wed = "It is Wednesday. || Halfway through the week!"

# Use '[condition]' for logic
Fri = "[weather rainy] I love the rain. || It's so sunny today!"

# Specific Keys
Introduction = "Hi, I'm new here. Nice to meet you!"
Gift_Love = "I love this! Thank you!"
Gift_Hate = "Ew, why would you give me this?"</code></pre>
          </div>
        </section>

        <!-- Schedule.toml -->
        <section id="schedule-toml" class="mb-12">
          <div class="flex justify-between items-baseline mb-3">
            <h3 class="text-xl font-semibold text-pink-400">Schedule.toml</h3>
          </div>
          <div class="code-block-wrapper">
            <button class="copy-btn" data-target="code-schedule-toml">Copy</button>
            <pre><code id="code-schedule-toml" class="language-ini rounded-lg border border-slate-800 shadow-lg p-4"># Entry 1: Morning
[[Schedule]]
Time = 610              # 6:10 AM
Map = "Town"            # Map name
X = 15                  # Tile X
Y = 20                  # Tile Y
Facing = 2              # 2 = Down
Action = "Reading a book" # Mouseover text
Days = "Weekday"        # Or Mon, Tue, Wed, Thu, Fri, Sat, Sun (Optional filter)

# Entry 2: Afternoon
[[Schedule]]
Time = 1300
Map = "Saloon"
X = 10
Y = 15
Facing = 1</code></pre>
          </div>
        </section>

        <div class="border-t border-slate-800 my-10"></div>

        <!-- Section: Source Code -->
        <h2 class="text-3xl font-bold text-white mb-8">Internal Reference</h2>

        <!-- NpcDefinition.cs -->
        <section id="npcdefinition-cs" class="mb-12">
          <div class="flex justify-between items-baseline mb-3">
            <h3 class="text-xl font-semibold text-slate-200">NpcDefinition.cs</h3>
          </div>
          <p class="text-slate-400 mb-4">The backing class for the TOML configuration.</p>
          <div class="code-block-wrapper">
            <button class="copy-btn" data-target="code-npcdef">Copy</button>
            <pre><code id="code-npcdef" class="language-csharp rounded-lg border border-slate-800 shadow-lg p-4">using System;
using System.Collections.Generic;

namespace NpcHelper
{
    public class NpcDefinition
    {
        // Internal NPC name (unique key, no spaces)
        public string Name { get; set; }

        // Display name shown to player
        public string DisplayName { get; set; }

        // ───── Disposition core ─────
        public string Gender { get; set; } = "male"; // "male", "female"
        public string Age { get; set; } = "adult";   // "child", "teen", "adult"
        public string Manner { get; set; } = "neutral"; // "polite", "rude", "neutral"
        public string SocialAnxiety { get; set; } = "neutral"; // "outgoing", "shy", "neutral"
        public string Optimism { get; set; } = "neutral"; // "positive", "negative", "neutral"

        // ───── Birthday ─────
        public string BirthdaySeason { get; set; } = "spring";
        public int BirthdayDay { get; set; } = 1;

        // ... (Remaining properties hidden for brevity) ...
    }
}</code></pre>
          </div>
        </section>

      </div>
      
      <!-- Footer -->
      <footer class="border-t border-slate-800 py-8 text-center text-slate-500 text-sm">
        <p>Generated for NPC Helper Project.</p>
      </footer>
    </main>
  </div>

  <script>
    hljs.highlightAll();
    
    document.querySelectorAll('.copy-btn').forEach(btn => {
      btn.addEventListener('click', async () => {
        const targetId = btn.getAttribute('data-target');
        const codeElement = document.getElementById(targetId);
        if (codeElement) {
          try {
            await navigator.clipboard.writeText(codeElement.textContent);
            const originalText = btn.textContent;
            btn.textContent = 'Copied!';
            setTimeout(() => { btn.textContent = originalText; }, 2000);
          } catch (err) { console.error('Failed to copy!', err); }
        }
      });
    });
  </script>
</body>
</html>
